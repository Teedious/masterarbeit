In dieser Arbeit wurde basierend auf der Analyse der Blocklib eine nebenläufige Architektur entworfen und implementiert. Die Architektur baut auf den Strukturen und Ideen \acf{sot} und Jobsystem auf, die in der Computerspielindustrie für die Entwicklung nebenläufiger Architekturen verwendet werden. Da es die Blocklib durch die Nutzung von OpenGL erfordert, wurden sowohl Aspekte des \ac{sot} also auch des Jobsystem-Designs integriert, wodurch eine hybride Form der Modelle entstanden ist.

Der \ac{sot}-Teil der Architektur nutzt einen Renderthread, um das Rendering nebenläufig zu der Simulation durchzuführen. Zentrale Zwischenspeichersysteme, die aus Double-Buffern bestehen, sorgen dafür, dass Wettkampfbedingungen auf den zu Rendernden Objekten vermieden werden. Um die Leistung zu optimieren, werden die Objekte, die zur Zwischenspeicherung genutzt werden, nach Gebrauch wiederverwendet.

Das implementiere Jobsystem erfüllt die ermittelten Anforderungen. Es definiert eine Stelle, an der Threads kontrolliert werden, den \class{BlocklibExecutor}, und definiert eine zugehörige Schnittstelle \class{BlocklibExecutorService}. Das Jobsystem bietet die Möglichkeit Aufgaben zu definieren, die nebenläufig von Threads abgearbeitet werden. Durch die Verpackung dieser Aufgaben können über die Schnittstelle \class{CompletionStage}, komplexe Aufgaben gelöst werden, indem ein Job-Graph erstellt wird, in dem einzelne Jobs komponiert werden. Das Jobsystem ermöglicht es des weiteren wiederkehrende Aufgaben zu definieren, die automatisiert zu bestimmten Zeiten nebenläufig ausgeführt werden.

Das Jobsystem ermöglicht eine rudimentäre Definition von Prioritäten für die aufgegebenen Tasks, indem zwei getrennte Thread-Pools genutzt werden. Das System ist so vorbereitet, dass ein verbessertes Prioritätensystem basierend auf einer Prioritäts-Warteschlange einfach zu integrieren ist, da die Schnittstelle \class{BlocklibExecutorService} bereits entsprechend definiert ist und der Aufzählungstyp \class{TaskPriority} bereitgestellt wird.

Ein Großteil der bereits bestehenden Nutzung von Multithreading konnte so geändert werden, dass nun die neuen nebenläufige Architektur verwendet wird. Einzig die Netzwerkfunktionalitäten der Blocklib bilden hier eine Ausnahme.

Verglichen mit der alten Architektur erreicht die neue nebenläufige Architektur eine um \SI{170}{\percent} gesteigerte Bildwiederholrate und weißt damit eine deutlich gestiegene Performance auf. Dabei nutzt die Blocklib mit der neuen Architektur auch mehr von der zur Verfügung stehende Leistung des Testsystems aus. Durchschnittlich wird die \ac{cpu} nun \SI{40}{\percent} und die \ac{gpu} \SI{37}{\percent} stärker ausgelastet als zuvor. In den Messungen ist die \ac{cpu} auch mit der neuen Architektur weiterhin die leistungsbeschränkende Komponente. In beinahe keinem Szenario ist die \ac{gpu} voll ausgelastet.